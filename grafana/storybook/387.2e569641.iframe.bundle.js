"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[387],{"../grafana-data/src/datetime/datemath.ts":function(G,S,i){i.d(S,{A_:function(){return T},fn:function(){return D},qg:function(){return P}});var M=i("../../node_modules/lodash/lodash.js"),B=i.n(M),h=i("../grafana-data/src/datetime/moment_wrapper.ts");const m=["y","M","w","d","h","m","s","Q"];function T(t){return t?!!(typeof t=="string"&&(t.substring(0,3)==="now"||t.includes("||"))):!1}function P(t,f,s,d){if(t){if(typeof t!="string")return(0,h.Ar)(t)?t:(0,M.isDate)(t)?(0,h.KQ)(t):void 0;{let e,n="",r,c;return t.substring(0,3)==="now"?(e=(0,h.oZ)(s),n=t.substring(3)):(r=t.indexOf("||"),r===-1?(c=t,n=""):(c=t.substring(0,r),n=t.substring(r+2)),e=(0,h.KQ)(c,h.mt)),n.length?E(n,e,f,d):e}}}function D(t){const f=P(t);return f&&(0,h.Ar)(f)?f.isValid():!1}function E(t,f,s,d=0){const e=t.replace(/\s/g,""),n=(0,h.KQ)(f);let r=0;const c=e.length;for(;r<c;){const g=e.charAt(r++);let _,A,b,L=!1;if(g==="/")_=0;else if(g==="+")_=1;else if(g==="-")_=2;else return;if(isNaN(parseInt(e.charAt(r),10)))A=1;else if(e.length===2)A=parseInt(e.charAt(r),10);else{const N=r;for(;!isNaN(parseInt(e.charAt(r),10));)if(r++,r>10)return;A=parseInt(e.substring(N,r),10)}if(_===0&&A!==1)return;b=e.charAt(r++),b==="f"&&(b=e.charAt(r++),L=!0);const C=b;if((0,M.includes)(m,C))_===0?L?y(d,n,C,s):s?n.endOf(C):n.startOf(C):_===1?n.add(A,C):_===2&&n.subtract(A,C);else return}return n}function y(t,f,s,d){switch(s){case"y":return d?y(t,f,s,!1).add(11,"M").endOf("M"):f.subtract((f.month()-t+12)%12,"M").startOf("M"),f;case"Q":return d?y(t,f,s,!1).add(2,"M").endOf("M"):f.subtract((f.month()-t+12)%3,"M").startOf("M"),f;default:return}}},"../grafana-data/src/datetime/parser.ts":function(G,S,i){i.d(S,{b:function(){return y}});var M=i("../../node_modules/lodash/lodash.js"),B=i.n(M),h=i("../../node_modules/moment-timezone/index.js"),m=i.n(h),T=i("../grafana-data/src/datetime/common.ts"),P=i("../grafana-data/src/datetime/datemath.ts"),D=i("../grafana-data/src/datetime/formats.ts"),E=i("../grafana-data/src/datetime/moment_wrapper.ts");const y=(s,d)=>(0,E.Ar)(s)?s:typeof s=="string"?t(s,d):f(s,d),t=(s,d)=>{var e;if(s.indexOf("now")!==-1)return(0,P.fn)(s)&&(0,P.qg)(s,d?.roundUp,d?.timeZone,d?.fiscalYearStartMonth)||m()();const n=(0,T.O)(d),r=m().tz.zone(n),c=(e=d?.format)!=null?e:D.WC.fullDate;if(r&&r.name)return m().tz(s,c,r.name);switch((0,M.lowerCase)(n)){case"utc":return m().utc(s,c);default:return m()(s,c)}},f=(s,d)=>{const e=s,n=(0,T.O)(d),r=m().tz.zone(n);if(r&&r.name)return m().tz(e,r.name);switch((0,M.lowerCase)(n)){case"utc":return m().utc(e);default:return m()(e)}}},"../grafana-data/src/datetime/timezones.ts":function(G,S,i){i.d(S,{HD:function(){return c},QZ:function(){return g},U3:function(){return A},g$:function(){return n},le:function(){return r}});var M=i("../../node_modules/lodash/lodash.js"),B=i.n(M),h=i("../../node_modules/moment-timezone/index.js"),m=i.n(h),T=i("../grafana-data/src/datetime/common.ts"),P=Object.defineProperty,D=Object.defineProperties,E=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,s=(a,o,u)=>o in a?P(a,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[o]=u,d=(a,o)=>{for(var u in o||(o={}))t.call(o,u)&&s(a,u,o[u]);if(y)for(var u of y(o))f.call(o,u)&&s(a,u,o[u]);return a},e=(a,o)=>D(a,E(o)),n=(a=>(a.default="",a.localBrowserTime="browser",a.utc="utc",a))(n||{});const r=a=>{switch((0,T.O)({timeZone:a})){case"browser":return"Local browser time";case"utc":return"UTC";default:return a}},c=a=>m().tz.zone(a),g=(a,o)=>{const u=b(a,o);return u||C(a,o)},_=(0,M.memoize)((a=!1)=>{const o=[];return a===!0?o.push("","browser","utc"):a&&o.push(...a),m().tz.names().reduce((u,l)=>{const p=K[l];return!Array.isArray(p)||p.length===0||u.push(l),u},o)}),A=(0,M.memoize)((a=!1)=>{const u=_(a).reduce((l,p)=>{var I,O;const v=p.indexOf("/");if(v===-1){const U="";return l[U]=(I=l[U])!=null?I:[],l[U].push(p),l}const R=p.slice(0,v);return l[R]=(O=l[R])!=null?O:[],l[R].push(p),l},{});return Object.keys(u).map(l=>({name:l,zones:u[l]}))}),b=(a,o)=>{var u,l,p,I;switch(a){case"utc":return{name:"Coordinated Universal Time",ianaName:"UTC",zone:a,countries:[],abbreviation:"UTC, GMT",offsetInMins:0};case"":{const O=(0,T.O)(),R=O==="browser"||O==="utc"?b(O,o):C(O,o);return e(d({countries:(u=K[O])!=null?u:[],abbreviation:"",offsetInMins:0},R),{ianaName:(l=R?.ianaName)!=null?l:"",name:"Default",zone:a})}case"browser":{const O=m().tz.guess(!0),v=C(O,o);return e(d({countries:(p=K[O])!=null?p:[],abbreviation:"Your local time",offsetInMins:new Date().getTimezoneOffset()},v),{name:"Browser Time",ianaName:(I=v?.ianaName)!=null?I:"",zone:a})}default:return}},L=a=>/^(\+|\-).+/.test(a)?"":a,C=(a,o)=>{var u;const l=m().tz.zone(a);if(l)return{name:a,ianaName:l.name,zone:a,countries:(u=K[a])!=null?u:[],abbreviation:L(l.abbr(o)),offsetInMins:l.utcOffset(o)}},N={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran (Islamic Republic Of)",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia (Federated States Of)",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},K=(()=>m().tz.countries().reduce((a,o)=>m().tz.zonesForCountry(o).reduce((l,p)=>{l[p]||(l[p]=[]);const I=N[o];return I&&l[p].push({code:o,name:I}),l},a),{}))()},"./src/components/DateTimePickers/TimeRangePicker/CalendarBody.tsx":function(G,S,i){i.d(S,{h2:function(){return d},nB:function(){return E}});var M=i("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),B=i("../../node_modules/react/index.js"),h=i("../../node_modules/react-calendar/dist/esm/index.js"),m=i("../grafana-data/src/datetime/timezones.ts"),T=i("../grafana-data/src/datetime/parser.ts"),P=i("./src/themes/ThemeContext.tsx"),D=i("./src/components/Icon/Icon.tsx");function E({onChange:e,from:n,to:r,timeZone:c}){const g=y(n,r,new Date,c),_=f(e,c),A=(0,P.of)(d);return B.createElement(h.Ay,{selectRange:!0,next2Label:null,prev2Label:null,className:A.body,tileClassName:A.title,value:g,nextLabel:B.createElement(D.I,{name:"angle-right"}),prevLabel:B.createElement(D.I,{name:"angle-left"}),onChange:_,locale:"en"})}E.displayName="Body";function y(e,n,r=new Date,c){let g=e.isValid()?e.toDate():r,_=n.isValid()?n.toDate():r;return c&&([g,_]=t(g,_,c)),g>_?[_,g]:[g,_]}function t(e,n,r){const c=(0,m.HD)(r);if(!c)return[e,n];const g=c.utcOffset(e.getTime()),_=c.utcOffset(n.getTime()),A=e.getTimezoneOffset(),b=n.getTimezoneOffset(),L=g-A,C=_-b,N=new Date(e.getTime()-L*1e3*60),K=new Date(n.getTime()-C*1e3*60);return[N,K]}function f(e,n){return(0,B.useCallback)(r=>{if(!Array.isArray(r))return console.error("onCalendarChange: should be run in selectRange={true}");if(r[0]&&r[1]){const c=(0,T.b)(s(r[0]),{timeZone:n}),g=(0,T.b)(s(r[1]),{timeZone:n});e(c,g)}},[e,n])}function s(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()]}const d=e=>{const n=".react-calendar__tile--hasActive:not(.react-calendar__tile--range)";return{title:(0,M.AH)({color:e.colors.text.primary,backgroundColor:e.colors.background.primary,fontSize:e.typography.size.md,border:"1px solid transparent","&:hover":{position:"relative"},"&:disabled":{color:e.colors.action.disabledText}}),body:(0,M.AH)({zIndex:e.zIndex.modal,backgroundColor:e.colors.background.primary,width:"268px",".react-calendar__navigation":{display:"flex"},".react-calendar__navigation__label, .react-calendar__navigation__arrow, .react-calendar__navigation":{paddingTop:"4px",backgroundColor:"inherit",color:e.colors.text.primary,border:0,fontWeight:e.typography.fontWeightMedium},".react-calendar__month-view__weekdays":{backgroundColor:"inherit",textAlign:"center",color:e.colors.primary.text,abbr:{border:0,textDecoration:"none",cursor:"default",display:"block",padding:"4px 0 4px 0"}},".react-calendar__month-view__days":{backgroundColor:"inherit"},".react-calendar__tile, .react-calendar__tile--now":{marginBottom:"4px",backgroundColor:"inherit",height:"26px"},".react-calendar__navigation__label, .react-calendar__navigation > button:focus, .time-picker-calendar-tile:focus":{outline:0},[`${n}, .react-calendar__tile--active, .react-calendar__tile--active:hover`]:{color:e.colors.primary.contrastText,fontWeight:e.typography.fontWeightMedium,background:e.colors.primary.main,boxShadow:"none",border:"0px"},".react-calendar__tile--rangeEnd, .react-calendar__tile--rangeStart":{padding:0,border:"0px",color:e.colors.primary.contrastText,fontWeight:e.typography.fontWeightMedium,background:e.colors.primary.main,abbr:{backgroundColor:e.colors.primary.main,borderRadius:"100px",display:"block",paddingTop:"2px",height:"26px"}},[`${n}, .react-calendar__tile--rangeStart`]:{borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px"},[`${n}, .react-calendar__tile--rangeEnd`]:{borderTopRightRadius:"20px",borderBottomRightRadius:"20px"}})}};try{E.displayName="Body",E.__docgenInfo={description:"",displayName:"Body",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},from:{defaultValue:null,description:"",name:"from",required:!0,type:{name:"DateTime"}},to:{defaultValue:null,description:"",name:"to",required:!0,type:{name:"DateTime"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onApply:{defaultValue:null,description:"",name:"onApply",required:!0,type:{name:"(e: FormEvent<HTMLButtonElement>) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(from: DateTime, to: DateTime) => void"}},isFullscreen:{defaultValue:null,description:`When true, the calendar is rendered as a floating "tooltip" next to the input.
When false, the calendar is rendered "fullscreen" in a modal. Yes. Don't ask.`,name:"isFullscreen",required:!0,type:{name:"boolean"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},isReversed:{defaultValue:null,description:"",name:"isReversed",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/CalendarBody.tsx#Body"]={docgenInfo:E.__docgenInfo,name:"Body",path:"src/components/DateTimePickers/TimeRangePicker/CalendarBody.tsx#Body"})}catch{}}}]);
