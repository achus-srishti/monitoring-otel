"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[2690],{"../../node_modules/@mdx-js/react/lib/index.js":function(b,f,i){i.d(f,{BN:function(){return r},RP:function(){return p},gz:function(){return s},xA:function(){return m}});var d=i("../../node_modules/react/index.js");const r=d.createContext({});function s(a){return o;function o(l){const t=p(l.components);return d.createElement(a,{...l,allComponents:t})}}function p(a){const o=d.useContext(r);return d.useMemo(()=>typeof a=="function"?a(o):{...o,...a},[o,a])}const c={};function m({components:a,children:o,disableParentContext:l}){let t;return l?t=typeof a=="function"?a({}):a||c:t=p(a),d.createElement(r.Provider,{value:t},o)}},"../../node_modules/@storybook/addon-actions/dist/index.mjs":function(b,f,i){i.d(f,{XI:function(){return d.XI}});var d=i("../../node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs"),r=(...s)=>{let p=config,c=s;c.length===1&&Array.isArray(c[0])&&([c]=c),c.length!==1&&typeof c[c.length-1]!="string"&&(p={...config,...c.pop()});let m=c[0];(c.length!==1||typeof m=="string")&&(m={},c.forEach(o=>{m[o]=o}));let a={};return Object.keys(m).forEach(o=>{a[o]=action(m[o],p)}),a}},"./src/components/ConfirmButton/ConfirmButton.story.tsx":function(b,f,i){i.r(f),i.d(f,{Basic:function(){return g},Delete:function(){return O},WithCustomButton:function(){return j},default:function(){return q}});var d=i("../../node_modules/@storybook/addon-actions/dist/index.mjs"),r=i("../../node_modules/react/index.js"),s=i("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),p=i("./src/themes/ThemeContext.tsx"),c=i("./src/themes/stylesFactory.ts"),m=i("./src/components/Button/Button.tsx");class a extends r.PureComponent{constructor(){super(...arguments),this.mainButtonRef=r.createRef(),this.confirmButtonRef=r.createRef(),this.state={showConfirm:!1},this.onClickButton=e=>{e&&e.preventDefault(),this.setState({showConfirm:!0},()=>{this.props.autoFocus&&this.confirmButtonRef.current&&this.confirmButtonRef.current.focus()}),this.props.onClick&&this.props.onClick()},this.onClickCancel=e=>{e&&e.preventDefault(),this.setState({showConfirm:!1},()=>{var u;(u=this.mainButtonRef.current)==null||u.focus()}),this.props.onCancel&&this.props.onCancel()},this.onConfirm=e=>{e&&e.preventDefault(),this.props.onConfirm(),this.props.closeOnConfirm&&this.setState({showConfirm:!1})}}render(){const{theme:e,className:u,size:E,disabled:T,confirmText:G,confirmVariant:J,children:D}=this.props,y=l(e),Q=(0,s.cx)(u,this.state.showConfirm?y.buttonHide:y.buttonShow,T&&y.buttonDisabled),Z=(0,s.cx)(y.confirmButton,this.state.showConfirm?y.confirmButtonShow:y.confirmButtonHide),H=T?()=>{}:this.onClickButton;return r.createElement("span",{className:y.buttonContainer},r.createElement("div",{className:(0,s.cx)(T&&y.disabled)},r.createElement("span",{className:Q},typeof D=="string"?r.createElement(m.$n,{size:E,fill:"text",onClick:H,ref:this.mainButtonRef},D):r.cloneElement(D,{onClick:H,ref:this.mainButtonRef}))),r.createElement("span",{className:Z},r.createElement(m.$n,{size:E,variant:J,onClick:this.onConfirm,ref:this.confirmButtonRef},G),r.createElement(m.$n,{size:E,fill:"text",onClick:this.onClickCancel},"Cancel")))}}const o=(0,p.cV)(a),l=(0,c.N)(n=>({buttonContainer:(0,s.AH)({display:"flex",alignItems:"center",justifyContent:"flex-end"}),buttonDisabled:(0,s.AH)({textDecoration:"none",color:n.colors.text.primary,opacity:.65,pointerEvents:"none"}),buttonShow:(0,s.AH)({opacity:1,transition:"opacity 0.1s ease",zIndex:2}),buttonHide:(0,s.AH)({opacity:0,transition:"opacity 0.1s ease, visibility 0 0.1s",visibility:"hidden",zIndex:0}),confirmButton:(0,s.AH)({alignItems:"flex-start",background:n.colors.background.primary,display:"flex",position:"absolute",pointerEvents:"none"}),confirmButtonShow:(0,s.AH)({zIndex:1,opacity:1,transition:"opacity 0.08s ease-out, transform 0.1s ease-out",transform:"translateX(0)",pointerEvents:"all"}),confirmButtonHide:(0,s.AH)({opacity:0,visibility:"hidden",transition:"opacity 0.12s ease-in, transform 0.14s ease-in, visibility 0s 0.12s",transform:"translateX(100px)"}),disabled:(0,s.AH)({cursor:"not-allowed"})}));o.defaultProps={size:"md",confirmText:"Save",disabled:!1,confirmVariant:"primary"},o.displayName="ConfirmButton";try{o.displayName="ConfirmButton",o.__docgenInfo={description:"",displayName:"ConfirmButton",props:{size:{defaultValue:{value:"md"},description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},onClick:{defaultValue:null,description:"Optional on click handler for the original button",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"Custom button styles",name:"className",required:!1,type:{name:"string"}},autoFocus:{defaultValue:null,description:"Move focus to button when mounted",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Disable button click action",name:"disabled",required:!1,type:{name:"boolean"}},confirmText:{defaultValue:{value:"Save"},description:"Text for the Confirm button",name:"confirmText",required:!1,type:{name:"string"}},confirmVariant:{defaultValue:{value:"primary"},description:"Variant of the Confirm button",name:"confirmVariant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"destructive"'},{value:'"success"'}]}},onConfirm:{defaultValue:null,description:"Confirm action callback",name:"onConfirm",required:!0,type:{name:"() => void"}},closeOnConfirm:{defaultValue:null,description:"Hide confirm actions when after of them is clicked",name:"closeOnConfirm",required:!1,type:{name:"boolean"}},onCancel:{defaultValue:null,description:"Callback for the cancel action",name:"onCancel",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ConfirmButton/ConfirmButton.tsx#ConfirmButton"]={docgenInfo:o.__docgenInfo,name:"ConfirmButton",path:"src/components/ConfirmButton/ConfirmButton.tsx#ConfirmButton"})}catch{}var t=i("../../node_modules/react/jsx-runtime.js"),C=i("../../node_modules/@mdx-js/react/lib/index.js"),v=i("../../node_modules/@storybook/blocks/dist/index.mjs");function x(n){const e=Object.assign({h1:"h1",p:"p",h2:"h2",code:"code",pre:"pre"},(0,C.RP)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.W8,{title:"MDX|ConfirmButton",component:o}),`
`,(0,t.jsx)(e.h1,{id:"confirmbutton",children:"ConfirmButton"}),`
`,(0,t.jsx)(e.p,{children:"The ConfirmButton is an interactive component that adds a double-confirm option to a clickable action. When clicked, the action is replaced by an inline confirmation with the option to cancel. In Grafana, this is used, for example, for editing values in settings tables."}),`
`,(0,t.jsx)(e.h2,{id:"variants",children:"Variants"}),`
`,(0,t.jsxs)(e.p,{children:["There are four variants of the ",(0,t.jsx)(e.code,{children:"ConfirmButton"}),": primary, secondary, destructive, and link. The primary and secondary variants include a primary or secondary ",(0,t.jsx)(e.code,{children:"Button"})," component. The primary and secondary variant should be used to confirm actions like saving or adding data. The destructive variant includes a destructive ",(0,t.jsx)(e.code,{children:"Button"})," component. The destructive variant should be used to double-confirm a deletion or removal of an element. The link variant doesn't include any button and double-confirms as links instead."]}),`
`,(0,t.jsx)(e.p,{children:"Apart from the button variant, you can also modify the button size and the button text."}),`
`,(0,t.jsx)(e.h2,{id:"usage",children:"Usage"}),`
`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:`<ConfirmButton
  closeOnConfirm
  size="md"
  confirmText="Are you sure?"
  confirmVariant="secondary"
  onConfirm={() => {
    console.log('Action confirmed!');
  }}
>
  Click me
</ConfirmButton>
`})}),`
`,(0,t.jsx)(e.h2,{id:"with-a-custom-button",children:"With a custom button"}),`
`,(0,t.jsxs)(e.p,{children:["You can pass a custom button as a child to the ",(0,t.jsx)(e.code,{children:"ConfirmButton"}),". The child will automatically receive the correct ",(0,t.jsx)(e.code,{children:"onClick"})," from ",(0,t.jsx)(e.code,{children:"ConfirmButton"}),"."]}),`
`,(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-jsx",children:`<ConfirmButton
  closeOnConfirm
  size="md"
  confirmText="Are you sure?"
  confirmVariant="secondary"
  onConfirm={() => {
    console.log('Action confirmed!');
  }}
>
  <Button variant="secondary">Click me</Button>
</ConfirmButton>
`})}),`
`,(0,t.jsx)(v.ov,{of:o})]})}function S(n={}){const{wrapper:e}=Object.assign({},(0,C.RP)(),n.components);return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(x,n)})):x(n)}var L=S;const _=({size:n,disabled:e,onConfirm:u,"aria-label":E,closeOnConfirm:T})=>r.createElement(o,{confirmText:"Delete",confirmVariant:"destructive",size:n||"md",disabled:e,onConfirm:u,closeOnConfirm:T},r.createElement(m.$n,{"aria-label":E,variant:"destructive",icon:"times",size:n||"sm"}));try{_.displayName="DeleteButton",_.__docgenInfo={description:"",displayName:"DeleteButton",props:{onConfirm:{defaultValue:null,description:"Confirm action callback",name:"onConfirm",required:!0,type:{name:"() => void"}},size:{defaultValue:null,description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},disabled:{defaultValue:null,description:"Disable button click action",name:"disabled",required:!1,type:{name:"boolean"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},closeOnConfirm:{defaultValue:null,description:"Close after delete button is clicked",name:"closeOnConfirm",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ConfirmButton/DeleteButton.tsx#DeleteButton"]={docgenInfo:_.__docgenInfo,name:"DeleteButton",path:"src/components/ConfirmButton/DeleteButton.tsx#DeleteButton"})}catch{}var F=Object.defineProperty,W=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,z=(n,e,u)=>e in n?F(n,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[e]=u,h=(n,e)=>{for(var u in e||(e={}))K.call(e,u)&&z(n,u,e[u]);if(k)for(var u of k(e))U.call(e,u)&&z(n,u,e[u]);return n},B=(n,e)=>W(n,Y(e)),V,A,P,R,I,w,N,M,X;const $={title:"Buttons/ConfirmButton",component:o,subcomponents:{DeleteButton:_},parameters:{docs:{page:L},controls:{exclude:["className","onClick","onCancel","onConfirm"]}},args:{buttonText:"Edit",confirmText:"Save",size:"md",confirmVariant:"primary",disabled:!1,closeOnConfirm:!0},argTypes:{confirmVariant:{control:{type:"select"},options:["primary","secondary","destructive","link"]},size:{control:{type:"select"},options:["xs","sm","md","lg"]}}},g=n=>r.createElement(o,{closeOnConfirm:n.closeOnConfirm,size:n.size,confirmText:n.confirmText,disabled:n.disabled,confirmVariant:n.confirmVariant,onConfirm:()=>{(0,d.XI)("Saved")("save!")}},n.buttonText),j=n=>r.createElement(o,{closeOnConfirm:n.closeOnConfirm,size:n.size,confirmText:n.confirmText,disabled:n.disabled,confirmVariant:n.confirmVariant,onConfirm:()=>{(0,d.XI)("Saved")("save!")}},r.createElement(m.$n,{size:n.size,variant:"secondary",icon:"pen"},n.buttonText)),O=n=>r.createElement(_,{size:n.size,disabled:n.disabled,onConfirm:()=>{(0,d.XI)("Deleted")("delete!")}});var q=$;g.parameters=B(h({},g.parameters),{docs:B(h({},(V=g.parameters)==null?void 0:V.docs),{source:h({originalSource:`args => {
  return <ConfirmButton closeOnConfirm={args.closeOnConfirm} size={args.size} confirmText={args.confirmText} disabled={args.disabled} confirmVariant={args.confirmVariant} onConfirm={() => {
    action('Saved')('save!');
  }}>
      {args.buttonText}
    </ConfirmButton>;
}`},(P=(A=g.parameters)==null?void 0:A.docs)==null?void 0:P.source)})}),j.parameters=B(h({},j.parameters),{docs:B(h({},(R=j.parameters)==null?void 0:R.docs),{source:h({originalSource:`args => {
  return <ConfirmButton closeOnConfirm={args.closeOnConfirm} size={args.size} confirmText={args.confirmText} disabled={args.disabled} confirmVariant={args.confirmVariant} onConfirm={() => {
    action('Saved')('save!');
  }}>
      <Button size={args.size} variant="secondary" icon="pen">
        {args.buttonText}
      </Button>
    </ConfirmButton>;
}`},(w=(I=j.parameters)==null?void 0:I.docs)==null?void 0:w.source)})}),O.parameters=B(h({},O.parameters),{docs:B(h({},(N=O.parameters)==null?void 0:N.docs),{source:h({originalSource:`args => {
  return <DeleteButton size={args.size} disabled={args.disabled} onConfirm={() => {
    action('Deleted')('delete!');
  }} />;
}`},(X=(M=O.parameters)==null?void 0:M.docs)==null?void 0:X.source)})})},"./src/themes/stylesFactory.ts":function(b,f,i){i.d(f,{N:function(){return s}});var d=i("../../node_modules/micro-memoize/dist/micro-memoize.js"),r=i.n(d);function s(p){return r()(p)}},"../../node_modules/react/cjs/react-jsx-runtime.production.min.js":function(b,f,i){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=i("../../node_modules/react/index.js"),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,c=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,t){var C,v={},x=null,S=null;t!==void 0&&(x=""+t),l.key!==void 0&&(x=""+l.key),l.ref!==void 0&&(S=l.ref);for(C in l)p.call(l,C)&&!m.hasOwnProperty(C)&&(v[C]=l[C]);if(o&&o.defaultProps)for(C in l=o.defaultProps,l)v[C]===void 0&&(v[C]=l[C]);return{$$typeof:r,type:o,key:x,ref:S,props:v,_owner:c.current}}f.Fragment=s,f.jsx=a,f.jsxs=a},"../../node_modules/react/jsx-runtime.js":function(b,f,i){b.exports=i("../../node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);
